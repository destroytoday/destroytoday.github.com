var hashTable=new Object();$(document).ready(function(){jQuery.easing.def="easeInOutCubic";$(window).hashchange(function(){parseHash();if(hashTable.n){project_goto_index(hashTable.n)}});$(".project_thumb").each(function(a){$(this).children(".color_blocks").css("top",$(this).children("a").children("img").height());$(this).children(".metadata").css("top",$(this).children("a").children("img").height()+5)});$(".project_thumb").mouseenter(function(b){var c=$(b.currentTarget).children("a").children("img");var a=$(b.currentTarget).children(".color_blocks");a.stop();a.animate({top:0,height:c.height()+10},{duration:350})});$(".project_thumb").mouseleave(function(b){var c=$(b.currentTarget).children("a").children("img");var a=$(b.currentTarget).children(".color_blocks");a.stop();a.animate({top:c.height(),height:10},{duration:350})});$(".project .image .prev").mouseenter(project_direction_mouseenterHandler);$(".project .image .prev").mouseleave(project_direction_mouseleaveHandler);$(".project .image .prev").click(project_prev);$(".project .image .next").mouseenter(project_direction_mouseenterHandler);$(".project .image .next").mouseleave(project_direction_mouseleaveHandler);$(".project .image .next").click(project_next);$(document).keyup(project_keyupHandler);parseHash();if(hashTable.n){project_goto_index(hashTable.n)}else{project_resize_to_image($(".project .image:first-child"))}});function parseHash(){var a=document.location.hash.substring(1).split("&");for(var b in a){b=a[b].split("=");if(b.length>1){hashTable[b[0]]=b[1]}}}function project_direction_mouseenterHandler(b){var a=$(".project .image .images").children("img").size();if(a>1){$("body").css("cursor","pointer");$("body").css("cursor","hand");$(this).children(".arrow").css("display","block")}}function project_direction_mouseleaveHandler(a){$("body").css("cursor","auto");$(this).children(".arrow").css("display","none")}function project_keyupHandler(a){if(a.keyCode=="37"){project_prev()}else{if(a.keyCode=="39"){project_next()}}}function project_prev(){var a=$(".project .image .images");var c=a.children(".selected");if(c.length==0){c=a.children("img").first()}var b=c.prev("img");if(b.length==0){b=a.children("img").last()}project_goto(c,b)}function project_next(){var a=$(".project .image .images");var c=a.children(".selected");if(c.length==0){c=a.children("img").first()}var b=c.next("img");if(b.length==0){b=a.children("img").first()}project_goto(c,b)}function project_goto(f,d){var a=$(".project .image .images");var h=a.children("img").index(f);var c=a.children("img").index(d);var g=$(".project .metadata .thumbs .thumb:nth-child("+(parseInt(h)+1)+")");var b=$(".project .metadata .thumbs .thumb:nth-child("+(parseInt(c)+1)+")");document.location.hash="n="+c;f.removeClass("selected");d.addClass("selected");g.removeClass("selected");g.addClass("unselected");b.removeClass("unselected");b.addClass("selected");var e=d.width();if(e>0){project_resize_to_image(d)}else{d.load(function(){project_resize_to_image(d)})}}function project_resize_to_image(a){$(".project .image").stop();$(".project .image").animate({width:a.width()},{duration:400,easing:"easeInOutQuad"})}function project_goto_index(b){var a=$(".project .image .images");var d=a.children(".selected");if(d.length==0){d=a.children("img").first()}var c=$(".project .image .images img:nth-child("+(parseInt(b)+1)+")");project_goto(d,c)};