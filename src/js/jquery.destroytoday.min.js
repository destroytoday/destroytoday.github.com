var hashTable=new Object();$(document).ready(function(){jQuery.easing.def="easeInOutCubic";$(window).hashchange(function(){parseHash();if(hashTable.n){project_goto_index(hashTable.n)}});$(".project_thumb").each(function(a){$(this).children(".color_blocks").css("top",$(this).children("a").children("img").height());$(this).children(".metadata").css("top",$(this).children("a").children("img").height()+5)});$(".project_thumb").mouseenter(function(b){var c=$(b.currentTarget).children("a").children("img");var a=$(b.currentTarget).children(".color_blocks");a.stop();a.animate({top:0,height:c.height()+10},{duration:350})});$(".project_thumb").mouseleave(function(b){var c=$(b.currentTarget).children("a").children("img");var a=$(b.currentTarget).children(".color_blocks");a.stop();a.animate({top:c.height(),height:10},{duration:350})});$(".project .container .viewport .prev").mouseenter(project_direction_mouseenterHandler);$(".project .container .viewport .prev").mouseleave(project_direction_mouseleaveHandler);$(".project .container .viewport .prev").click(project_prev);$(".project .container .viewport .next").mouseenter(project_direction_mouseenterHandler);$(".project .container .viewport .next").mouseleave(project_direction_mouseleaveHandler);$(".project .container .viewport .next").click(project_next);$(document).keyup(project_keyupHandler);parseHash();if(hashTable.n){project_goto_index(hashTable.n)}});function parseHash(){var a=document.location.hash.substring(1).split("&");for(var b in a){b=a[b].split("=");if(b.length>1){hashTable[b[0]]=b[1]}}}function project_direction_mouseenterHandler(b){var a=$(".project .container .viewport .images").children(".image").size();if(a>1){$("body").css("cursor","pointer");$("body").css("cursor","hand");$(this).children(".arrow").css("display","block")}}function project_direction_mouseleaveHandler(a){$("body").css("cursor","auto");$(this).children(".arrow").css("display","none")}function project_keyupHandler(a){if(a.keyCode=="37"){project_prev()}else{if(a.keyCode=="39"){project_next()}}}function project_prev(){var a=$(".project .container .viewport .images");var c=a.children(".selected");if(c.length==0){c=a.children(".image").first()}var b=c.prev(".image");if(b.length==0){b=a.children(".image").last()}project_goto(c,b)}function project_next(){var a=$(".project .container .viewport .images");var c=a.children(".selected");if(c.length==0){c=a.children(".image").first()}var b=c.next(".image");if(b.length==0){b=a.children(".image").first()}project_goto(c,b)}function project_goto(e,d){var a=$(".project .container .viewport .images");var g=a.children(".image").index(e);var c=a.children(".image").index(d);var f=$(".project .metadata .thumbs .thumb:nth-child("+(parseInt(g)+1)+")");var b=$(".project .metadata .thumbs .thumb:nth-child("+(parseInt(c)+1)+")");document.location.hash="n="+c;e.removeClass("selected");d.addClass("selected");f.removeClass("selected");f.addClass("unselected");b.removeClass("unselected");b.addClass("selected")}function project_goto_index(b){var a=$(".project .container .viewport .images");var d=a.children(".selected");if(d.length==0){d=a.children("img").first()}var c=$(".project .container .viewport .images .image:nth-child("+(parseInt(b)+1)+")");project_goto(d,c)};